jQuery(function(){var e=jQuery(document),t=function(e,t){var c=jQuery(t).closest(".widget"),u=jQuery(".csb-visibility-button",c),f=jQuery(".widget-control-actions .widget-control-save",c),h=jQuery(".widget-control-actions .spinner",c);1!=c.data("_csb_visibility")&&(h.insertBefore(f).css({"float":"left"}),u.insertBefore(f).click(l),c.on("click",".toggle-action b",a),c.on("csb:update",n),c.on("click",".clear-filter",i),c.on("click",".choose-filters",o),c.on("click",".add-filter",s),c.on("change","input[data-lbl-all][data-lbl-single]",r),c.on("change","select.posttype",d),c.data("_csb_visibility",!0))},i=function(e){var t=jQuery(this),i=t.closest(".csb-option-row"),s=t.closest(".widget"),n="."+jQuery.trim(i.attr("class").replace("csb-option-row","")),o=s.find('[data-for="'+n+'"]'),c=i.find("input, select, textarea");return e.preventDefault(),o.show(),i.fadeOut(400,function(){c.val("").trigger("chosen:updated"),s.trigger("csb:update")}),!1},s=function(e){var t=jQuery(this),i=t.data("for"),s=t.closest(".widget"),n=s.find(".csb-always"),o=s.find(i);return e.preventDefault(),o.show(),t.hide(),n.hide(),c(),s.trigger("csb:update"),!1},n=function(){var e=jQuery(this).closest(".widget"),t=e.find(".csb-always"),i=e.find(".csb-option-row:visible:not(.csb-action,.csb-always)");0==i.length?t.show():(t.hide(),i.find(".csb-and").show(),i.first().find(".csb-and").hide()),wpmUi.upgrade_multiselect(e)},o=function(t){var i=jQuery(this),s=i.closest(".csb-option-row"),n=s.find(".dropdown");return t.preventDefault(),n.show(),e.one("click",c),!1},c=function(){jQuery(".csb-action .dropdown:visible").hide()},l=function(e){var t=jQuery(this),i=t.closest(".widget"),s=i.find(".csb-visibility-inner"),n=s.find(".csb-visible-flag");return e.preventDefault(),"0"==n.val()?(n.val(1),s.show(),i.trigger("csb:update")):(n.val(0),s.hide()),!1},a=function(e){var t=jQuery(this).closest("label"),i=t.closest(".widget"),s="#"+t.attr("for"),n=i.find(s),o=n.val(),c=i.find(".lbl-show-if"),l=i.find(".lbl-hide-if");return e.preventDefault(),"show"!=o?(c.show(),l.hide(),n.val("show")):(c.hide(),l.show(),n.val("hide")),!1},r=function(){var e=jQuery(this).closest("label"),t=e.closest(".csb-detail-row"),i=e.find("input[type=checkbox]"),s=e.find(".lbl"),n=t.find(".detail"),o=n.find("input,select,textarea");i.prop("checked")?(s.text(i.data("lbl-single")),n.show()):(s.text(i.data("lbl-all")),n.hide(),o.val("").trigger("chosen:updated"))},d=function(){var e,t=jQuery(this),i=t.closest(".csb-option-row"),s=i.find(".csb-detail-row"),n=t.val();if(s.addClass("csb-hide"),n)for(e=0;e<n.length;e+=1)s.filter(".csb-pt-"+n[e]).removeClass("csb-hide ");s.each(function(){var e=jQuery(this),t=e.find("input[type=checkbox]");e.hasClass("csb-hide")?(e.hide(),t.prop("checked",!1),r.call(t)):e.show()})};jQuery("#widgets-right .widget").each(t),e.on("widget-added",t)});
//# sourceMappingURL=visibility.min.js.map